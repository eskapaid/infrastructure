image:
  repository: sigp/lighthouse
  tag: v0.3.0
  pullPolicy: IfNotPresent

container:
  command:
    - lighthouse
    - beacon_node
  args:
    - --datadir=/data
    - --debug-level=info
    - --testnet=medalla
    - --http
    - --http-address
    - "0.0.0.0"
    - --ws
    - --ws-address
    - "0.0.0.0"
    - --metrics
    - --metrics-address
    - "0.0.0.0"
    - --eth1-endpoint=${eth1endpoint}

ports:
  metrics: 5054
  websocket: 5053
  discovery: 9000

storage:
  capacity: 20Gi

resources:
  requests:
    cpu: 250m
    memory: 2Gi
  limits:
    cpu: 500m
    memory: 3Gi

affinity:
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
        - matchExpressions:
            - key: eskapa.id/subnet
              operator: In
              values:
                - public